I"Ã…<h1 id="an√°lise-dos-dados-do-airbnb---lisboa-portugal">An√°lise dos Dados do Airbnb - <em>Lisboa, Portugal</em></h1>

<p>O <a href="https://www.airbnb.com.br/">Airbnb</a> j√° √© considerado como sendo a <strong>maior empresa hoteleira da atualidade</strong>. O detalhe √© que ele <strong>n√£o possui nenhum hotel</strong>!</p>

<p>Conectando pessoas que querem viajar (e se hospedar) com anfitri√µes que querem alugar seus im√≥veis de maneira pr√°tica, o Airbnb fornece uma plataforma inovadora para tornar essa hospedagem alternativa.</p>

<p>No final de 2018, a Startup fundada 10 anos atr√°s, j√° havia <strong>hospedado mais de 300 milh√µes</strong> de pessoas ao redor de todo o mundo, desafiando as redes hoteleiras tradicionais.</p>

<p>Uma das iniciativas do Airbnb √© disponibilizar dados do site, para algumas das principais cidades do mundo. Por meio do portal <a href="http://insideairbnb.com/get-the-data.html">Inside Airbnb</a>, √© poss√≠vel baixar uma grande quantidade de dados para desenvolver projetos e solu√ß√µes de <em>Data Science</em>.</p>

<center><img alt="Analisando Airbnb" width="30%" src="https://www.area360.com.au/wp-content/uploads/2017/09/airbnb-logo.jpg" /></center>

<p><strong>Neste <em>notebook</em>, iremos analisar os dados referentes ao Distrito de Lisboa, e ver quais insights podem ser extra√≠dos a partir de dados brutos.</strong></p>

<p>Lisboa √© a capital de Portugal e √© uma das cidades mais carism√°ticas e vibrantes da Europa. √â uma cidade que mistura o patrim√¥nio tradicional sem esfor√ßo, com um impressionante modernismo. Como um destino de f√©rias, Lisboa oferece uma hist√≥ria rica e variada, uma agitada vida noturna e √© aben√ßoada com um clima glorioso durante o ano todo.</p>

<p>Lisboa √© uma cidade movimentada e animada, possuindo uma grande variedade de atividades e atra√ß√µes tur√≠sticas fascinantes. A cidade tem uma atmosfera acolhedora e liberal, enquanto ainda abra√ßa a sua heran√ßa profundamente enraizada e hist√≥ria vasta. Lisboa ir√° atrair uma sele√ß√£o diversificada de idades e turistas; pode formar uma viagem cultural, uma extravag√¢ncia da vida noturna, f√©rias em fam√≠lia, uma pausa relaxante na cidade ou at√© mesmo como base para umas f√©rias na praia.</p>

<p>A capital portuguesa √© reconhecida constantemente como uma das melhores cidades do mundo, uma afirma√ß√£o confirmada por ‚ÄúLonely Planet Guides‚Äù, que nomeou Lisboa como uma das 10 melhores cidades do mundo. Surpreendentemente, Lisboa ainda √© uma das capitais menos visitadas da Europa, mas isso est√° mudando rapidamente √† medida que novos visitantes descobrem o fasc√≠nio de Portugal.</p>

<p>Fonte: https://lisbonlisboaportugal.com/lisboa-portugal-guia-br.html</p>

<h4 id="obten√ß√£o-dos-dados">Obten√ß√£o dos Dados</h4>
<p>Os dados usados foram obtidos do site <a href="https://insideairbnb.com/get-the-data.html">Inside Airbnb</a>, com a data de compila√ß√£o em 28 de maio de 2020.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Iremos importar os pacotes necess√°rios
</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># importando o arquivo listings.csv para um DataFrame
</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"http://data.insideairbnb.com/portugal/lisbon/lisbon/2020-04-29/visualisations/listings.csv"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="an√°lise-dos-dados">An√°lise dos Dados</h2>

<p><strong>Dicion√°rio das vari√°veis</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - n√∫mero de id gerado para identificar o im√≥vel</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - nome da propriedade anunciada</li>
  <li><code class="language-plaintext highlighter-rouge">host_id</code> - n√∫mero de id do propriet√°rio (anfitri√£o) da propriedade</li>
  <li><code class="language-plaintext highlighter-rouge">host_name</code> - Nome do anfitri√£o</li>
  <li><code class="language-plaintext highlighter-rouge">neighbourhood_group</code> - munic√≠pio</li>
  <li><code class="language-plaintext highlighter-rouge">neighbourhood</code> - bairro</li>
  <li><code class="language-plaintext highlighter-rouge">latitude</code> - coordenada da latitude da propriedade</li>
  <li><code class="language-plaintext highlighter-rouge">longitude</code> - coordenada da longitude da propriedade</li>
  <li><code class="language-plaintext highlighter-rouge">room_type</code> - informa o tipo de quarto que √© oferecido</li>
  <li><code class="language-plaintext highlighter-rouge">price</code> - pre√ßo para alugar o im√≥vel</li>
  <li><code class="language-plaintext highlighter-rouge">minimum_nights</code> - quantidade m√≠nima de noites para reservar</li>
  <li><code class="language-plaintext highlighter-rouge">number_of_reviews</code> - n√∫mero de reviews que a propriedade possui</li>
  <li><code class="language-plaintext highlighter-rouge">last_review</code> - data do √∫ltimo review</li>
  <li><code class="language-plaintext highlighter-rouge">reviews_per_month</code> - quantidade de reviews por m√™s</li>
  <li><code class="language-plaintext highlighter-rouge">calculated_host_listings_count</code> - quantidade de im√≥veis do mesmo anfitri√£o</li>
  <li><code class="language-plaintext highlighter-rouge">availability_365</code> - n√∫mero de dias de disponibilidade dentro de 365 dias</li>
</ul>

<p>Antes de iniciar qualquer an√°lise, vamos verificar a cara do nosso <em>dataset</em>, analisando as 5 primeiras entradas.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mostrar as 5 primeiras entradas
</span><span class="n">df</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;font-size:50px">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>host_id</th>
      <th>host_name</th>
      <th>neighbourhood_group</th>
      <th>neighbourhood</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>room_type</th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>last_review</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6499</td>
      <td>Bel√©m 1 Bedroom Historical Apartment</td>
      <td>14455</td>
      <td>Bruno</td>
      <td>Lisboa</td>
      <td>Belm</td>
      <td>38.69750</td>
      <td>-9.19768</td>
      <td>Entire home/apt</td>
      <td>40</td>
      <td>3</td>
      <td>26</td>
      <td>2020-01-03</td>
      <td>0.38</td>
      <td>1</td>
      <td>307</td>
    </tr>
    <tr>
      <th>1</th>
      <td>25659</td>
      <td>Sunny,  Alfama  Sleeps 3 - Coeur d'Alfama</td>
      <td>107347</td>
      <td>Ellie</td>
      <td>Lisboa</td>
      <td>Santa Maria Maior</td>
      <td>38.71167</td>
      <td>-9.12696</td>
      <td>Entire home/apt</td>
      <td>60</td>
      <td>3</td>
      <td>113</td>
      <td>2019-12-08</td>
      <td>1.54</td>
      <td>1</td>
      <td>317</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29248</td>
      <td>Apartamento Alfama com vista para o rio!</td>
      <td>125768</td>
      <td>B√°rbara</td>
      <td>Lisboa</td>
      <td>Santa Maria Maior</td>
      <td>38.71272</td>
      <td>-9.12628</td>
      <td>Entire home/apt</td>
      <td>60</td>
      <td>3</td>
      <td>321</td>
      <td>2020-03-11</td>
      <td>2.82</td>
      <td>1</td>
      <td>351</td>
    </tr>
    <tr>
      <th>3</th>
      <td>29396</td>
      <td>Alfama Hill - Boutique apartment</td>
      <td>126415</td>
      <td>M√≥nica</td>
      <td>Lisboa</td>
      <td>Santa Maria Maior</td>
      <td>38.71239</td>
      <td>-9.12887</td>
      <td>Entire home/apt</td>
      <td>60</td>
      <td>1</td>
      <td>239</td>
      <td>2020-03-15</td>
      <td>2.47</td>
      <td>2</td>
      <td>318</td>
    </tr>
    <tr>
      <th>4</th>
      <td>29720</td>
      <td>TheHOUSE - Your luxury home</td>
      <td>128075</td>
      <td>Francisco</td>
      <td>Lisboa</td>
      <td>Estrela</td>
      <td>38.71195</td>
      <td>-9.15877</td>
      <td>Entire home/apt</td>
      <td>1100</td>
      <td>2</td>
      <td>55</td>
      <td>2020-03-15</td>
      <td>0.48</td>
      <td>2</td>
      <td>300</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="q1-quantos-atributos-vari√°veis-e-quantas-entradas-o-nosso-conjunto-de-dados-possui-quais-os-tipos-das-vari√°veis"><strong>Q1. Quantos atributos (vari√°veis) e quantas entradas o nosso conjunto de dados possui? Quais os tipos das vari√°veis?</strong></h3>

<p>Vamos prosseguir e identificar a quantidade de entradas que nosso conjunto de dados possui e ver os tipos de cada coluna.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># identificar o volume de dados do DataFrame
</span><span class="k">print</span><span class="p">(</span><span class="s">"Entradas:</span><span class="se">\t</span><span class="s"> {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Vari√°veis:</span><span class="se">\t</span><span class="s"> {}</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

<span class="c1"># verificar as 5 primeiras entradas do dataset
</span><span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Entradas:	 24640
Vari√°veis:	 16




id                                  int64
name                               object
host_id                             int64
host_name                          object
neighbourhood_group                object
neighbourhood                      object
latitude                          float64
longitude                         float64
room_type                          object
price                               int64
minimum_nights                      int64
number_of_reviews                   int64
last_review                        object
reviews_per_month                 float64
calculated_host_listings_count      int64
availability_365                    int64
dtype: object
</code></pre></div></div>

<p><strong>Este <em>dataset</em> que baixamos √© a vers√£o ‚Äúresumida‚Äù do Airbnb, que cont√©m 24640 entradas e 16 vari√°veis.</strong></p>

<h3 id="q2-qual-a-porcentagem-de-valores-ausentes-no-dataset"><strong>Q2. Qual a porcentagem de valores ausentes no <em>dataset</em>?</strong></h3>

<p>A qualidade de um <em>dataset</em> est√° diretamente relacionada √† quantidade de valores ausentes. √â importante entender logo no in√≠cio se esses valores nulos s√£o significativos comparados ao total de entradas.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Verificar valores ausentes no dataset e colocar em ordem decrescente
</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">isnull</span><span class="p">().</span><span class="nb">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reviews_per_month                 0.168547
last_review                       0.168547
name                              0.000771
host_name                         0.000041
availability_365                  0.000000
calculated_host_listings_count    0.000000
number_of_reviews                 0.000000
minimum_nights                    0.000000
price                             0.000000
room_type                         0.000000
longitude                         0.000000
latitude                          0.000000
neighbourhood                     0.000000
neighbourhood_group               0.000000
host_id                           0.000000
id                                0.000000
dtype: float64
</code></pre></div></div>

<ul>
  <li>√â poss√≠vel ver que a coluna <code class="language-plaintext highlighter-rouge">reviews_per_month</code> possui 16,8% dos seus valores faltantes.</li>
  <li>√â poss√≠vel ver que a coluna <code class="language-plaintext highlighter-rouge">last_review</code> possui 16,8% dos seus valores faltantes.</li>
</ul>

<h3 id="q3-qual-o-tipo-de-distribui√ß√£o-das-vari√°veis"><strong>Q3. Qual o tipo de distribui√ß√£o das vari√°veis?</strong></h3>

<p>Para identificar a distribui√ß√£o das vari√°veis, irei plotar o histograma.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plotar o histograma das vari√°veis num√©ricas
</span><span class="n">df</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_14_0.png" alt="png" /></p>

<h3 id="q4-h√°-outliers-presentes"><strong>Q4. H√° <em>outliers</em> presentes?</strong></h3>

<p>Pela distribui√ß√£o do histograma, √© poss√≠vel verificar ind√≠cios da presen√ßa de <em>outliers</em>. Olhe por exemplo as vari√°veis <code class="language-plaintext highlighter-rouge">price</code>, <code class="language-plaintext highlighter-rouge">minimum_nights</code> e <code class="language-plaintext highlighter-rouge">calculated_host_listings_count</code>.</p>

<p>Os valores n√£o seguem uma distrui√ß√£o, e distorcem toda a representa√ß√£o gr√°fica. Para confirmar, h√° duas maneiras r√°pidas que auxiliam a detec√ß√£o de <em>outliers</em>. S√£o elas:</p>

<ul>
  <li>Resumo estat√≠stico por meio do m√©todo <code class="language-plaintext highlighter-rouge">describe()</code></li>
  <li>Plotar <code class="language-plaintext highlighter-rouge">boxplots</code> para a vari√°vel.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ver o resumo estat√≠stico das vari√°veis num√©ricas
</span><span class="n">df</span><span class="p">[[</span><span class="s">'price'</span><span class="p">,</span> <span class="s">'minimum_nights'</span><span class="p">,</span> <span class="s">'number_of_reviews'</span><span class="p">,</span> <span class="s">'reviews_per_month'</span><span class="p">,</span>
    <span class="s">'calculated_host_listings_count'</span><span class="p">,</span> <span class="s">'availability_365'</span><span class="p">]].</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>24640.000000</td>
      <td>24640.000000</td>
      <td>24640.000000</td>
      <td>20487.000000</td>
      <td>24640.000000</td>
      <td>24640.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>110.739732</td>
      <td>3.294440</td>
      <td>41.781291</td>
      <td>1.459542</td>
      <td>15.057224</td>
      <td>225.239448</td>
    </tr>
    <tr>
      <th>std</th>
      <td>350.763230</td>
      <td>15.970015</td>
      <td>65.881125</td>
      <td>1.461515</td>
      <td>43.355842</td>
      <td>132.790977</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.010000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>47.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.320000</td>
      <td>1.000000</td>
      <td>118.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>69.000000</td>
      <td>2.000000</td>
      <td>14.000000</td>
      <td>0.960000</td>
      <td>3.000000</td>
      <td>269.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>100.000000</td>
      <td>3.000000</td>
      <td>53.000000</td>
      <td>2.210000</td>
      <td>10.000000</td>
      <td>349.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10000.000000</td>
      <td>1000.000000</td>
      <td>877.000000</td>
      <td>19.890000</td>
      <td>340.000000</td>
      <td>365.000000</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="olhando-o-resumo-estat√≠stico-acima-podemos-confirmar-algumas-hip√≥teses-como">Olhando o resumo estat√≠stico acima, podemos confirmar algumas hip√≥teses como:</h2>

<ul>
  <li>A vari√°vel <code class="language-plaintext highlighter-rouge">price</code> possui 75% do valor abaixo de 100, por√©m seu valor m√°ximo √© 10000.</li>
  <li>A quantidade m√≠nima de noites (<code class="language-plaintext highlighter-rouge">minimum_nights</code>) est√° acima de 365 dias no ano.</li>
</ul>

<h4 id="boxplot-para-minimum_nights">Boxplot para minimum_nights</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># minimum_nights
</span><span class="n">df</span><span class="p">.</span><span class="n">minimum_nights</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'box'</span><span class="p">,</span> <span class="n">vert</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ver quantidade de valores acima de 30 dias para minimum_nights
</span><span class="k">print</span><span class="p">(</span><span class="s">"minimum_nights: valores acima de 30:"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{} entradas"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">.</span><span class="n">minimum_nights</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">])))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{:.4f}%"</span><span class="p">.</span><span class="nb">format</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">.</span><span class="n">minimum_nights</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">])</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_20_0.png" alt="png" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>minimum_nights: valores acima de 30:
100 entradas
0.4058%
</code></pre></div></div>

<h4 id="boxplot-para-price">Boxplot para price</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># price
</span><span class="n">df</span><span class="p">.</span><span class="n">price</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'box'</span><span class="p">,</span> <span class="n">vert</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">),)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ver quantidade de valores acima de 1500 para price
</span><span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">price: valores acima de 1500"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{} entradas"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">.</span><span class="n">price</span> <span class="o">&gt;</span> <span class="mi">1500</span><span class="p">])))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{:.4f}%"</span><span class="p">.</span><span class="nb">format</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">.</span><span class="n">price</span> <span class="o">&gt;</span> <span class="mi">1500</span><span class="p">])</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>

<span class="c1"># df.price.plot(kind='box', vert=False, xlim=(0,1300), figsize=(15,3));
</span></code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_22_0.png" alt="png" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>price: valores acima de 1500
57 entradas
0.2313%
</code></pre></div></div>

<h4 id="histogramas-sem-outliers">Histogramas sem <em>outliers</em></h4>

<p>J√° que identificamos <em>outliers</em> nas vari√°veis <code class="language-plaintext highlighter-rouge">price</code> e <code class="language-plaintext highlighter-rouge">minimum_nights</code>, vamos agora limpar o <em>DataFrame</em> delas e plotar novamente o histograma.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># remover os *outliers* em um novo DataFrame
</span><span class="n">df_clean</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_clean</span><span class="p">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">price</span> <span class="o">&gt;</span> <span class="mi">1500</span><span class="p">].</span><span class="n">index</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df_clean</span><span class="p">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">minimum_nights</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">].</span><span class="n">index</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df_clean</span><span class="p">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">calculated_host_listings_count</span> <span class="o">&gt;</span> <span class="mi">60</span><span class="p">].</span><span class="n">index</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plotar o histograma para as vari√°veis num√©ricas
</span><span class="n">df_clean</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_25_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'Quantidade de vari√°veis {}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">df_clean</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Quantidade de entradas {}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">df_clean</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">df_limpo</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_clean</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Foram removidos {:.2%} dos dados na limpeza do dataset.'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">df_limpo</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Quantidade de vari√°veis 23220
Quantidade de entradas 16
Foram removidos 5.76% dos dados na limpeza do dataset.
</code></pre></div></div>

<h3 id="resumo-estat√≠stico-ap√≥s-limpeza-dos-outliers">Resumo estat√≠stico ap√≥s limpeza dos outliers</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_clean</span><span class="p">[[</span><span class="s">'price'</span><span class="p">,</span> <span class="s">'minimum_nights'</span><span class="p">,</span><span class="s">'number_of_reviews'</span><span class="p">,</span> <span class="s">'reviews_per_month'</span><span class="p">,</span> <span class="s">'calculated_host_listings_count'</span><span class="p">,</span> 
          <span class="s">'availability_365'</span><span class="p">]].</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>23220.000000</td>
      <td>23220.000000</td>
      <td>23220.000000</td>
      <td>19336.000000</td>
      <td>23220.000000</td>
      <td>23220.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>97.228424</td>
      <td>2.716968</td>
      <td>43.391602</td>
      <td>1.502402</td>
      <td>7.262317</td>
      <td>224.608570</td>
    </tr>
    <tr>
      <th>std</th>
      <td>124.306829</td>
      <td>3.384602</td>
      <td>67.243900</td>
      <td>1.483627</td>
      <td>10.123960</td>
      <td>132.692619</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.010000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>45.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.330000</td>
      <td>1.000000</td>
      <td>117.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>69.000000</td>
      <td>2.000000</td>
      <td>14.000000</td>
      <td>1.010000</td>
      <td>3.000000</td>
      <td>269.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>100.000000</td>
      <td>3.000000</td>
      <td>56.000000</td>
      <td>2.300000</td>
      <td>8.000000</td>
      <td>349.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1500.000000</td>
      <td>30.000000</td>
      <td>877.000000</td>
      <td>19.890000</td>
      <td>60.000000</td>
      <td>365.000000</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="q5-qual-a-correla√ß√£o-existente-entre-as-vari√°veis"><strong>Q5. Qual a correla√ß√£o existente entre as vari√°veis?</strong></h3>

<p>Correla√ß√£o significa que existe uma rela√ß√£o entre duas coisas. No nosso contexto, estamos buscando rela√ß√£o ou semelhan√ßa entre duas vari√°veis.</p>

<p>Essa rela√ß√£o pode ser medida, e √© fun√ß√£o do coeficiente de correla√ß√£o estabelecer qual a intensidade dela. Para identificar as correla√ß√µes existentes entre as vari√°veis de interesse, vou:</p>

<ul>
  <li>Criar uma matriz de correla√ß√£o</li>
  <li>Gerar um <em>heatmap</em> a partir dessa matriz, usando a biblioteca <code class="language-plaintext highlighter-rouge">seaborn</code></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># criar uma matriz de correla√ß√£o
</span><span class="n">corr</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[[</span><span class="s">'price'</span><span class="p">,</span> <span class="s">'minimum_nights'</span><span class="p">,</span> <span class="s">'number_of_reviews'</span><span class="p">,</span> <span class="s">'reviews_per_month'</span><span class="p">,</span>
    <span class="s">'calculated_host_listings_count'</span><span class="p">,</span> <span class="s">'availability_365'</span><span class="p">]].</span><span class="n">corr</span><span class="p">()</span>

<span class="n">display</span><span class="p">(</span><span class="n">corr</span><span class="p">)</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>price</th>
      <td>1.000000</td>
      <td>-0.035038</td>
      <td>-0.126661</td>
      <td>-0.124047</td>
      <td>-0.002353</td>
      <td>0.010003</td>
    </tr>
    <tr>
      <th>minimum_nights</th>
      <td>-0.035038</td>
      <td>1.000000</td>
      <td>-0.051181</td>
      <td>-0.101343</td>
      <td>-0.049146</td>
      <td>-0.023528</td>
    </tr>
    <tr>
      <th>number_of_reviews</th>
      <td>-0.126661</td>
      <td>-0.051181</td>
      <td>1.000000</td>
      <td>0.780244</td>
      <td>-0.072072</td>
      <td>0.085859</td>
    </tr>
    <tr>
      <th>reviews_per_month</th>
      <td>-0.124047</td>
      <td>-0.101343</td>
      <td>0.780244</td>
      <td>1.000000</td>
      <td>-0.063167</td>
      <td>0.076246</td>
    </tr>
    <tr>
      <th>calculated_host_listings_count</th>
      <td>-0.002353</td>
      <td>-0.049146</td>
      <td>-0.072072</td>
      <td>-0.063167</td>
      <td>1.000000</td>
      <td>0.040110</td>
    </tr>
    <tr>
      <th>availability_365</th>
      <td>0.010003</td>
      <td>-0.023528</td>
      <td>0.085859</td>
      <td>0.076246</td>
      <td>0.040110</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'RdBu'</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">'.2f'</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s">'white'</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_31_0.png" alt="png" /></p>

<h3 id="q6-qual-o-tipo-de-im√≥vel-mais-alugado-no-airbnb"><strong>Q6. Qual o tipo de im√≥vel mais alugado no Airbnb?</strong></h3>

<p>A coluna da vari√°vel <code class="language-plaintext highlighter-rouge">room_type</code> indica o tipo de loca√ß√£o que est√° anunciada no Airbnb. Se voc√™ j√° alugou no site, sabe que existem op√ß√µes de apartamentos/casas inteiras, apenas o aluguel de um quarto ou mesmo dividir o quarto com outras pessoas.</p>

<p>Vamos contar a quantidade de ocorr√™ncias de cada tipo de aluguel, usando o m√©todo <code class="language-plaintext highlighter-rouge">value_counts()</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mostrar a quantidade de cada tipo de im√≥vel dispon√≠vel
</span><span class="n">df_clean</span><span class="p">.</span><span class="n">room_type</span><span class="p">.</span><span class="n">value_counts</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Entire home/apt    16618
Private room        5588
Hotel room           571
Shared room          443
Name: room_type, dtype: int64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#gr√°fico representando por tipo de im√≥vel
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s">'room_type'</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Tipos de im√≥veis para se alugar'</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_34_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mostrar a porcentagem de cada tipo de im√≥vel dispon√≠vel
</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_clean</span><span class="p">.</span><span class="n">room_type</span><span class="p">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_clean</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df_clean_a</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">df_clean_a</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="s">'{:.2%}'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
</style>
<table id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65f"><thead>    <tr>        <th class="blank level0"></th>        <th class="col_heading level0 col0">room_type</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65flevel0_row0" class="row_heading level0 row0">Entire home/apt</th>
                        <td id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65frow0_col0" class="data row0 col0">71.57%</td>
            </tr>
            <tr>
                        <th id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65flevel0_row1" class="row_heading level0 row1">Private room</th>
                        <td id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65frow1_col0" class="data row1 col0">24.07%</td>
            </tr>
            <tr>
                        <th id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65flevel0_row2" class="row_heading level0 row2">Hotel room</th>
                        <td id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65frow2_col0" class="data row2 col0">2.46%</td>
            </tr>
            <tr>
                        <th id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65flevel0_row3" class="row_heading level0 row3">Shared room</th>
                        <td id="T_61baa950_af1e_11ea_aaa9_408d5cd9f65frow3_col0" class="data row3 col0">1.91%</td>
            </tr>
    </tbody></table>

<p>Podemos concluir que:</p>
<ul>
  <li>H√° 16618 op√ß√µes de aluguel de apartamentos/casas, sendo 71,57% das op√ß√µes de loca√ß√£o.</li>
  <li>H√° 5588 op√ß√µes de aluguel de quartos privados, sendo 24,07% das op√ß√µes de loca√ß√£o.</li>
  <li>H√° 571 op√ß√µes de aluguel de quartos compartilhados, sendo 2,46% das op√ß√µes de loca√ß√£o.</li>
  <li>H√° 443 op√ß√µes de aluguel em hotel, sendo 1,91% das op√ß√µes de loca√ß√£o.</li>
</ul>

<h3 id="q7-qual-a-localidade-mais-cara-de-lisboa"><strong>Q7. Qual a localidade mais cara de Lisboa?</strong></h3>

<p>Uma maneira de se verificar uma vari√°vel em fun√ß√£o da outra √© usando <code class="language-plaintext highlighter-rouge">groupby()</code>. No caso, queremos comparar os bairros (<em>neighbourhoods</em>) a partir do pre√ßo de loca√ß√£o.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_clean</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'neighbourhood'</span><span class="p">]).</span><span class="n">price</span><span class="p">.</span><span class="n">mean</span><span class="p">().</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>neighbourhood
Vermelha                  292.500000
Cardosas                  280.000000
Aveiras de Baixo          269.500000
Ota                       249.000000
Freiria                   220.000000
Peral                     174.800000
Bucelas                   170.300000
So Domingos de Benfica    167.225352
Alcabideche               154.391509
Vale do Paraso            150.000000
Name: price, dtype: float64
</code></pre></div></div>

<ul>
  <li>Vemos que Vermelha, Cardosas e Aveiras de Baixo s√£o os locais com a m√©dia mais cara de Lisboa.</li>
</ul>

<p>S√≥ para dar um √∫nico exemplo de como uma amostra pode ser n√£o-representativa, veja quantas entradas h√° para Vermelha, Cardosas e Aveiras de Baixo.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#ver quantidade de im√≥veis nos 3 primeiros bairros e a porcentagem em rela√ß√£o ao total de im√≥veis
</span><span class="k">print</span><span class="p">(</span><span class="s">"{} entradas"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Vermelha"</span><span class="p">].</span><span class="n">index</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{:.4f}%"</span><span class="p">.</span><span class="nb">format</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Vermelha"</span><span class="p">].</span><span class="n">index</span><span class="p">)</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{} entradas"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Cardosas"</span><span class="p">].</span><span class="n">index</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{:.4f}%"</span><span class="p">.</span><span class="nb">format</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Cardosas"</span><span class="p">].</span><span class="n">index</span><span class="p">)</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{} entradas"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Aveiras de Baixo"</span><span class="p">].</span><span class="n">index</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"{:.4f}%"</span><span class="p">.</span><span class="nb">format</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span> <span class="o">==</span> <span class="s">"Aveiras de Baixo"</span><span class="p">].</span><span class="n">index</span><span class="p">)</span> <span class="o">/</span> <span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2 entradas
0.0081%
1 entradas
0.0041%
2 entradas
0.0081%
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#quantidade de im√≥veis por bairro
</span><span class="n">df_clean</span><span class="p">.</span><span class="n">neighbourhood</span><span class="p">.</span><span class="n">value_counts</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Santa Maria Maior      3450
Misericrdia            2730
Arroios                2235
Cascais e Estoril      1484
So Vicente             1322
                       ... 
Vila Nova da Rainha       1
Cardosas                  1
Alcoentre                 1
Vale do Paraso            1
Ota                       1
Name: neighbourhood, Length: 127, dtype: int64
</code></pre></div></div>

<h3 id="q8-como-√©-a-distribui√ß√£o-dos-im√≥veis-pela-cidade-de-lisboa"><strong>Q8. Como √© a distribui√ß√£o dos im√≥veis pela cidade de Lisboa?</strong></h3>

<p>As vari√°veis Latitude e Longitude dos im√≥veis possibilita plotar cada ponto e mapear os im√≥veis. Considera-se x=longitude e y=latitude.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plotar os im√≥veis pela latitude-longitude
</span><span class="n">df_clean</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">"scatter"</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'longitude'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'latitude'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df_clean</span><span class="p">[</span><span class="s">'price'</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
              <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s">'jet'</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="\img\posts\analise-airbnb\output_45_0.png" alt="png" /></p>

<h2 id="conclus√£o">Conclus√£o</h2>

<p>Foi feita apenas uma an√°lise superficial na base de dados do Airbnb, por√©m j√° se percebeu que existem outliers nas colunas <code class="language-plaintext highlighter-rouge">price</code>, <code class="language-plaintext highlighter-rouge">minimum_nights</code> e <code class="language-plaintext highlighter-rouge">calculated_host_listings_count</code>. Tamb√©m se notou que h√° em algumas localidades poucos im√≥veis dispon√≠veis, o que pode distorcer as informa√ß√µes estat√≠sticas de alguns atributos.</p>

<ul>
  <li>A an√°lise aponta que Vermelha √© o bairro mais caro para se hospedar, com uma m√©dia de 292 euros.</li>
  <li>No geral, a m√©dia das hospedagens s√£o feitas com o m√≠nimo de 3 dias e uma m√©dia de pre√ßo de 97 euros e com o m√°ximo de 1500 euros.</li>
  <li>Os apartamentos s√£o os tipos de im√≥veis de maior op√ß√£o, sendo 71,57% das op√ß√µes de loca√ß√£o.</li>
  <li>Santa Maria Maior √© o bairro com a maior quantidade de im√≥veis dispon√≠veis, com cerca de 3450.</li>
</ul>

<p>Por fim, lembra-se que este dataset √© uma vers√£o resumida, ideal apenas para uma abordagem inicial. Recomenda-se que seja usado, em uma pr√≥xima an√°lise explorat√≥ria, o conjunto de dados completos, com 106 atributos dispon√≠veis.</p>
:ET